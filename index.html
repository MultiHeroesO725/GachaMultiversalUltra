<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gacha Multiversal Ultra +</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts: Orbitron (Títulos) & Rajdhani (Cuerpo/UI) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Rajdhani', 'sans-serif'],
                        display: ['Orbitron', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        orange: { 400: '#ff7a24', 500: '#f97316', 900: '#7c2d12' },
                        fuchsia: { 400: '#ff23b6', 500: '#ec0099', 900: '#831843' },
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        .clip-path-slant {
            clip-path: polygon(10% 0, 100% 0, 100% 80%, 90% 100%, 0 100%, 0 20%);
        }
        .bg-grid-pattern {
            background-image: linear-gradient(to right, #80808012 1px, transparent 1px),
                              linear-gradient(to bottom, #80808012 1px, transparent 1px);
            background-size: 24px 24px;
        }
        .font-display { font-family: 'Orbitron', sans-serif; }

    </style>
</head>
<body class="bg-slate-950 text-white selection:bg-orange-500 selection:text-black overflow-x-hidden relative font-sans text-lg">

    <!-- Fondo Animado -->
    <div class="fixed inset-0 z-0 pointer-events-none opacity-20">
        <div class="absolute inset-0 bg-grid-pattern"></div>
        <div class="absolute left-0 right-0 top-0 -z-10 m-auto h-[310px] w-[310px] rounded-full bg-fuchsia-400 opacity-20 blur-[100px]"></div>
        <div class="absolute right-0 bottom-0 -z-10 m-auto h-[310px] w-[310px] rounded-full bg-orange-400 opacity-20 blur-[100px]"></div>
    </div>

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 py-6 border-b border-transparent">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <div class="flex items-center">
                <img id="nav-logo" src="" alt="Logo" class="h-10 md:h-24 object-contain hidden">
                <div id="nav-text-fallback" class="text-2xl font-display font-black tracking-tighter italic flex items-center gap-2 hidden">
                    <span class="text-white">GLITCH</span>
                </div>
            </div>
            
            <div class="hidden md:flex items-center gap-8 text-lg font-bold tracking-widest text-slate-300 font-display">
                <a href="#historia" class="hover:text-yellow-400 transition-colors">HISTORIA</a>
                <a href="#personajes" class="hover:text-cyan-400 transition-colors">PERSONAJES</a>
                <a href="#hyper" class="hover:text-fuchsia-400 transition-colors">HYPER</a>
                <a href="#sistema" class="hover:text-green-400 transition-colors">GAMEPLAY</a>
                <button id="nav-play-btn" class="hidden px-5 py-2 border border-orange-500 text-orange-400 hover:bg-orange-500 hover:text-black transition-all uppercase text-sm font-black">
                    Jugar Ahora
                </button>
            </div>

            <button id="mobile-menu-btn" class="md:hidden text-white">
                <i data-lucide="menu"></i>
            </button>
        </div>

        <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 w-full bg-slate-900 border-b border-slate-800 p-6 flex flex-col gap-4 text-center shadow-xl font-display font-bold">
            <a href="#historia" class="mobile-link">Historia</a>
            <a href="#personajes" class="mobile-link">Personajes</a>
            <a href="#hyper" class="mobile-link">Hyper</a>
            <a href="#sistema" class="mobile-link">Gameplay</a>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <header class="relative min-h-screen flex items-center pt-36 overflow-hidden">
        <div class="container mx-auto px-6 grid md:grid-cols-2 gap-12 items-center relative z-10">
            <div class="space-y-6 animate-fade-in">
                <div class="inline-flex items-center gap-2 px-3 py-1 bg-fuchsia-900/30 border border-fuchsia-500/30 rounded-full text-fuchsia-400 text-xs font-bold uppercase tracking-widest font-mono">
                    <span class="w-2 h-2 bg-fuchsia-500 rounded-full animate-ping"></span>
                    RPG / Visual Novel
                </div>
                
                <h1 class="text-5xl md:text-7xl font-display font-black leading-tight italic">
                    EL TORNEO FUE <br/>
                    <div class="relative inline-block group">
                        <span class="relative z-10 text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-400 to-orange-500">UNA TRAMPA.</span>
                        <span class="absolute top-0 left-0 -ml-0.5 translate-x-[2px] text-red-500 opacity-0 group-hover:opacity-70 animate-pulse">UNA TRAMPA.</span>
                        <span class="absolute top-0 left-0 -ml-0.5 -translate-x-[2px] text-red-500 opacity-0 group-hover:opacity-70 animate-pulse delay-75">UNA TRAMPA.</span>
                    </div>
                </h1>
                
                <p class="text-slate-400 text-xl md:text-2xl max-w-lg leading-relaxed font-medium">
                    Sobrevive a la corrupción. Purifica a los personajes caídos. Recolecta los <span class="text-yellow-400 font-bold">Cristales Ultra+</span> y derrota al Organizador.
                </p>

                <div id="hero-buttons" class="flex flex-col sm:flex-row gap-4 pt-4"></div>
                
                <div class="flex items-center gap-4 text-xs text-slate-500 font-mono pt-8">
                    <span>DISPONIBLE EN:</span>
                    <div class="flex gap-3 text-slate-300">
                        <span class="border-b border-slate-700 pb-1">WINDOWS</span>
                        <span class="border-b border-slate-700 pb-1">MAC</span>
                        <span class="border-b border-slate-700 pb-1">LINUX</span>
                        <span class="border-b border-slate-700 pb-1">ANDROID</span>
                        <span class="border-b border-slate-700 pb-1">NINTENDO SWITCH</span>
                    </div>
                </div>
            </div>

            <div class="relative group perspective-1000">
                <div class="relative transform transition-transform duration-700 group-hover:rotate-y-6">
                    <div class="absolute -inset-1 bg-gradient-to-r from-orange-500 to-fuchsia-600 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-1000 group-hover:duration-200"></div>
                    <div id="hero-cover-container" class="w-full h-[500px] bg-gray-900 border border-orange-500/30 rounded-lg flex flex-col items-center justify-center p-6 text-center relative overflow-hidden">
                        <!-- IMAGEN REAL (Se inyecta via JS) -->
                        <img id="img-hero" src="" class="absolute inset-0 w-full h-full object-cover z-20 hidden" alt="Portada">
                        
                        <!-- PLACEHOLDER -->
                        <div id="ph-hero" class="relative z-10 flex flex-col items-center">
                            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
                            <i data-lucide="sparkles" class="w-16 h-16 text-orange-500/50 mb-4"></i>
                            <p class="text-gray-400 font-mono text-sm uppercase tracking-wider mb-2">PLACEHOLDER</p>
                            <p class="text-gray-300 font-display font-bold text-xl">Ilustración Épica de Portada</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- LORE SECTION -->
    <section id="historia" class="py-24 relative border-t border-slate-900 bg-slate-900/50 scroll-mt-36">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row items-center gap-16">
                <div class="w-full md:w-1/2 relative">
                    <div class="w-full h-96 bg-gray-800 rounded-lg flex flex-col items-center justify-center p-6 text-center shadow-inner relative overflow-hidden group">
                         <!-- IMAGEN REAL (Se inyecta via JS) -->
                         <img id="img-lore-main" src="" class="absolute inset-0 w-full h-full object-cover z-20 hidden" alt="Lore">
                        
                        <div id="ph-lore-main" class="relative z-10 flex flex-col items-center">
                            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
                            <i data-lucide="image" class="w-12 h-12 text-gray-600 mb-2"></i>
                            <p class="text-gray-400 font-mono text-sm uppercase tracking-wider mb-2">PLACEHOLDER</p>
                            <p class="text-gray-300 font-display font-bold text-lg">Arte: El Organizador robando poderes</p>
                        </div>
                    </div>
                </div>
                
                <div class="w-full md:w-1/2 space-y-6">
                    <h2 class="text-3xl md:text-4xl font-display font-black uppercase tracking-tighter">
                        <span class="text-fuchsia-500">Error 404:</span> Participante no encontrado
                    </h2>
                    <p class="text-slate-300 leading-relaxed text-lg">
                        Personas de diversos universos son invitados a participar en un prestigioso torneo para demostrar quién es el más fuerte. Sin embargo, lo que parecía una competencia amistosa se transforma en una trampa cuando el misterioso organizador revela sus verdaderas intenciones. Utilizando su poder, corrompe el código fuente de todos los participantes, transformándolos en versiones Glitch de sí mismos. Solo Martina o Fafa, según la elección del jugador, logra escapar del ataque. Ahora, su misión es recorrer 14 zonas diferentes, enfrentándose a las versiones Glitch de los participantes y purificándolos con el poder de los Cristales Ultra+.
                    </p>
                    
                    <div class="bg-slate-950 p-6 rounded-xl border border-slate-800 mt-6">
                        <p class="text-xs font-mono text-orange-500 mb-4 uppercase">/// Selecciona tu superviviente</p>
                        <div class="flex gap-4 mb-4">
                            <button onclick="switchLoreHero('martina')" id="btn-martina" class="flex-1 p-4 border border-orange-500 bg-orange-500/10 transition-all">
                                <h3 class="font-display font-bold text-lg">Martina</h3>
                                <p class="text-xs text-slate-400 mt-1 uppercase tracking-wide">Protagonista Femenina</p>
                            </button>
                            <button onclick="switchLoreHero('fafa')" id="btn-fafa" class="flex-1 p-4 border border-slate-800 hover:border-slate-600 transition-all">
                                <h3 class="font-display font-bold text-lg">Fafa</h3>
                                <p class="text-xs text-slate-400 mt-1 uppercase tracking-wide">Protagonista Masculino</p>
                            </button>
                        </div>
                        <div class="h-80 w-full bg-gradient-to-br from-gray-800 to-gray-900 border-2 border-gray-700 rounded-lg flex flex-col items-center justify-center p-4 relative overflow-hidden">
                             <!-- IMAGEN LORE PERSONAJE -->
                             <img id="img-lore-char" src="" class="absolute inset-0 w-full h-full object-cover z-20 hidden transition-opacity" alt="Personaje Lore">

                             <div id="ph-lore-char" class="relative z-10 flex flex-col items-center">
                                 <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
                                 <i data-lucide="user" class="w-10 h-10 text-gray-600 mb-2"></i>
                                 <p id="lore-hero-label" class="text-gray-300 font-display font-bold text-lg">Arte: Martina</p>
                             </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ROSTER SECTION -->
    <section id="personajes" class="py-20 bg-slate-900 border-t border-slate-800 scroll-mt-36">
        <div class="container mx-auto px-6">
            <div class="flex justify-between items-end mb-12">
                <div>
                    <h2 class="text-3xl font-display font-bold mb-2">PERSONAJES JUGABLES</h2>
                    <p class="text-slate-400 text-sm font-mono">Haz clic en un personaje para ver los datos.</p>
                </div>
            </div>
            <div id="roster-grid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4"></div>
        </div>
    </section>

    <!-- HYPER FORMS SECTION -->
    <section id="hyper" class="py-20 bg-slate-950 relative overflow-hidden scroll-mt-36">
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-fuchsia-900/20 via-slate-950 to-slate-950 pointer-events-none"></div>
        <div class="container mx-auto px-6 relative z-10">
            <div class="flex justify-between items-end mb-12">
                <div>
                    <h2 class="text-3xl font-display font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-400 to-purple-600 italic">FORMAS HYPER</h2>
                    <p class="text-slate-400 text-sm font-mono">Transformaciones exclusivas que aumentan tus estadísticas en combate.</p>
                </div>
            </div>
            <div id="hyper-grid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4"></div>
        </div>
    </section>

    <!-- GAMEPLAY LOOP / MECHANICS SECTION -->
    <section id="sistema" class="py-24 bg-slate-900 scroll-mt-36">
        <div class="container mx-auto px-6 text-center mb-16">
            <h2 class="text-3xl md:text-5xl font-display font-black italic mb-4">CICLO DE JUEGO</h2>
            <p class="text-slate-400 max-w-2xl mx-auto text-lg">Explora zonas temáticas, vive la historia y combate para coleccionar almas.</p>
        </div>

        <div class="container mx-auto px-6 grid md:grid-cols-3 gap-8 mb-24">
            <!-- Card 1 -->
            <div class="bg-slate-950 p-8 rounded-2xl border border-slate-800 hover:border-orange-500/50 transition-all group">
                <div class="w-16 h-16 bg-orange-900/30 rounded-full flex items-center justify-center mb-6 text-orange-400 group-hover:scale-110 transition-transform">
                    <i data-lucide="map" class="w-8 h-8"></i>
                </div>
                <h3 class="text-xl font-display font-bold mb-3">1. Exploración de Zona</h3>
                <p class="text-slate-400 text-sm mb-6">Avanza por etapas en un mapa interactivo. Desbloquea caminos secretos.</p>
                <div class="h-40 bg-gray-800 rounded flex items-center justify-center text-gray-500 text-xs font-mono border border-gray-700 relative overflow-hidden">
                    <img id="img-gp-map" src="" class="absolute inset-0 w-full h-full object-cover z-20 hidden" alt="Mapa">
                    <span id="ph-gp-map">Captura: Mapa de Zona</span>
                </div>
            </div>
            <!-- Card 2 -->
            <div class="bg-slate-950 p-8 rounded-2xl border border-slate-800 hover:border-fuchsia-500/50 transition-all group">
                <div class="w-16 h-16 bg-fuchsia-900/30 rounded-full flex items-center justify-center mb-6 text-fuchsia-400 group-hover:scale-110 transition-transform">
                    <i data-lucide="user" class="w-8 h-8"></i>
                </div>
                <h3 class="text-xl font-display font-bold mb-3">2. Narrativa VN</h3>
                <p class="text-slate-400 text-sm mb-6">Descubre los secretos de Gacha Multiversal con diálogos y decisiones.</p>
                <div class="h-40 bg-gray-800 rounded flex items-center justify-center text-gray-500 text-xs font-mono border border-gray-700 relative overflow-hidden">
                    <img id="img-gp-vn" src="" class="absolute inset-0 w-full h-full object-cover z-20 hidden" alt="VN">
                    <span id="ph-gp-vn">Captura: Diálogo VN</span>
                </div>
            </div>
            <!-- Card 3 -->
            <div class="bg-slate-950 p-8 rounded-2xl border border-slate-800 hover:border-yellow-500/50 transition-all group">
                <div class="w-16 h-16 bg-yellow-900/30 rounded-full flex items-center justify-center mb-6 text-yellow-400 group-hover:scale-110 transition-transform">
                    <i data-lucide="gamepad-2" class="w-8 h-8"></i>
                </div>
                <h3 class="text-xl font-display font-bold mb-3">3. Combate RPG</h3>
                <p class="text-slate-400 text-sm mb-6">Enfrenta enemigos aleatorios, minijefes y Jefes de Zona.</p>
                <div class="h-40 bg-gray-800 rounded flex items-center justify-center text-gray-500 text-xs font-mono border border-gray-700 relative overflow-hidden">
                     <img id="img-gp-battle" src="" class="absolute inset-0 w-full h-full object-cover z-20 hidden" alt="Batalla">
                     <span id="ph-gp-battle">Captura: Batalla RPG</span>
                </div>
            </div>
        </div>

        <div class="container mx-auto px-6">
            <div class="flex flex-col lg:flex-row gap-12">
                <div class="lg:w-1/3 space-y-4">
                    <h2 class="text-4xl font-display font-black mb-8">GAMEPLAY <br/> <span class="text-fuchsia-400">MULTIVERSAL</span></h2>
                    
                    <button onclick="switchTab('map')" id="tab-btn-map" class="w-full text-left p-4 rounded-lg flex items-center gap-4 transition-all bg-slate-800 border-l-4 border-orange-400 group">
                        <i data-lucide="zap" class="w-6 h-6 text-orange-400 group-hover:scale-110 transition-transform"></i>
                        <div><h4 class="font-bold text-lg">Forma Hyper</h4><p class="text-xs text-slate-400 font-mono">Transformación en batalla</p></div>
                    </button>
                    <button onclick="switchTab('vn')" id="tab-btn-vn" class="w-full text-left p-4 rounded-lg flex items-center gap-4 transition-all hover:bg-slate-900 text-slate-500 group">
                        <i data-lucide="skull" class="w-6 h-6 group-hover:scale-110 transition-transform"></i>
                        <div><h4 class="font-bold text-lg">Almas & Escáneres</h4><p class="text-xs text-slate-400 font-mono">Colecciona personajes</p></div>
                    </button>
                    <button onclick="switchTab('battle')" id="tab-btn-battle" class="w-full text-left p-4 rounded-lg flex items-center gap-4 transition-all hover:bg-slate-900 text-slate-500 group">
                        <i data-lucide="sparkles" class="w-6 h-6 group-hover:scale-110 transition-transform"></i>
                        <div><h4 class="font-bold text-lg">Refulgentes</h4><p class="text-xs text-slate-400 font-mono">Variantes muy raras</p></div>
                    </button>
                </div>

                <div class="lg:w-2/3 bg-slate-900 rounded-2xl p-2 border border-slate-800 relative min-h-[400px]">
                    <div class="h-full bg-slate-950 rounded-xl p-8 flex flex-col justify-center items-center text-center relative overflow-hidden">
                        <div class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/diagmonds-light.png')]"></div>
                        
                        <!-- Tab Content Hyper -->
                        <div id="tab-content-map" class="tab-content w-full animate-fade-in flex flex-col items-center">
                            <h3 class="text-2xl font-display font-bold text-orange-400 mb-4 uppercase">Desata el Poder Oculto</h3>
                            <p class="text-slate-300 max-w-md mx-auto mb-8">Ciertos personajes poseen una genética que les permite acceder a <span class="font-bold text-white">Formas Hyper</span> mediante una gema activadora. Aumenta estadísticas y cambia la apariencia en combate.</p>
                            
                            <div class="w-full max-w-md h-56 bg-gray-900 border border-orange-500/30 rounded-lg flex flex-col items-center justify-center p-4 relative overflow-hidden group">
                                <img id="img-ars-hyper" src="" class="absolute inset-0 w-full h-full object-cover z-20 hidden" alt="Hyper">
                                
                                <div id="ph-ars-hyper" class="relative z-10 flex flex-col items-center">
                                    <div class="absolute inset-0 bg-orange-500/5 group-hover:bg-orange-500/10 transition-colors"></div>
                                    <i data-lucide="zap" class="w-10 h-10 text-orange-500/50 mb-2"></i>
                                    <p class="text-orange-300 font-display font-bold">COMPARATIVA: BASE vs HYPER</p>
                                    <p class="text-xs text-gray-500 font-mono mt-2">PLACEHOLDER: IMAGEN SPLIT</p>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Content Souls -->
                        <div id="tab-content-vn" class="tab-content w-full animate-fade-in flex flex-col items-center hidden">
                            <h3 class="text-2xl font-display font-bold text-fuchsia-400 mb-4 uppercase">Colección de Almas</h3>
                            <p class="text-slate-300 max-w-md mx-auto mb-8">Usa los <span class="font-bold text-white">Escáneres</span> para digitalizar enemigos derrotados. Colecciona más de 100 Almas diferentes desde el Capítulo 1.</p>
                            
                            <div class="w-full max-w-md h-56 border border-fuchsia-500/30 rounded-lg flex items-center justify-center relative overflow-hidden">
    
                                <!-- Imagen real -->
                                <img id="img-ars-soul"
                                     src=""
                                     class="absolute inset-0 w-full object-contain z-20 hidden"
                                     alt="Almas">
                            
                                <!-- Placeholder -->
                                <div id="ph-ars-soul" class="flex gap-4 relative z-10">
                                    <div class="w-32 h-32 bg-gray-900 border border-fuchsia-500/30 rounded-full flex flex-col items-center justify-center">
                                        <i data-lucide="scan" class="w-8 h-8 text-fuchsia-500/50 mb-1"></i>
                                        <p class="text-xs text-fuchsia-300 font-mono">ESCÁNER</p>
                                    </div>
                                    <div class="w-32 h-32 bg-gray-900 border border-fuchsia-500/30 rounded-lg flex flex-col items-center justify-center">
                                        <i data-lucide="ghost" class="w-8 h-8 text-fuchsia-500/50 mb-1"></i>
                                        <p class="text-xs text-fuchsia-300 font-mono">ALMA</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Content Shiny -->
                        <div id="tab-content-battle" class="tab-content w-full animate-fade-in flex flex-col items-center hidden">
                            <h3 class="text-2xl font-display font-bold text-yellow-400 mb-4 uppercase">Variantes Refulgentes</h3>
                            <p class="text-slate-300 max-w-md mx-auto mb-8">Con una probabilidad del 0.02% hasta 0.4%, dependiendo del método, cualquier Alma puede obtenerse en su versión <span class="font-bold text-yellow-400">Refulgente ✨</span>.</p>
                            
                            <div class="w-full max-w-md h-56 bg-gray-900 border border-yellow-500/30 rounded-lg flex flex-col items-center justify-center p-4 relative overflow-hidden group">
                                <img id="img-ars-shiny" src="" class="absolute inset-0 w-full h-full object-cover z-20 hidden" alt="Shiny">
                                
                                <div id="ph-ars-shiny" class="relative z-10 flex flex-col items-center">
                                    <div class="absolute inset-0 bg-yellow-500/5 group-hover:bg-yellow-500/10 transition-colors"></div>
                                    <i data-lucide="sparkles" class="w-10 h-10 text-yellow-500/50 mb-2"></i>
                                    <p class="text-yellow-300 font-display font-bold">ENEMIGO REFULGENTE</p>
                                    <p class="text-xs text-gray-500 font-mono mt-2">PLACEHOLDER: PALETA DE COLORES ALTERNA</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-black pt-20 pb-10 border-t border-slate-900">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-8 text-sm text-slate-500">
                <div class="col-span-1 md:col-span-2">
                    <img id="footer-logo" src="" alt="Logo" class="h-8 mb-4 object-contain opacity-90 grayscale hover:grayscale-0 transition-all hidden">
                    <div id="footer-text" class="text-xl font-display font-black italic text-white mb-4 hidden">NEXUS<span class="text-orange-400">GLITCH</span></div>
                    <p class="mb-4">Creando Universos desde 2018.</p>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-4 font-display">COMUNIDAD</h4>
                    <ul class="space-y-2">
                        <li><a href="https://www.youtube.com/@MultiHeroesOficial" target="_blank" class="hover:text-orange-400">Youtube</a></li>
                        <li><a href="https://www.instagram.com/multiheroes_oficial/" target="_blank" class="hover:text-orange-400">Instagram</a></li>
                        <li><a href="https://discord.gg/Zv3BGcSkxW" target="_blank" class="hover:text-orange-400">Discord</a></li>
                        <li><a href="https://multiheroes.itch.io/" target="_blank" class="hover:text-orange-400">Itch.io</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-4 font-display">LEGAL</h4>
                    <ul class="space-y-2">
                        <li><a href="https://multiheroeso725.github.io/MH5thpyp.github.io/" class="hover:text-orange-400">Privacidad</a></li>
                        <!--li><a href="#" class="hover:text-orange-400">Términos</a></li-->
                    </ul>
                </div>
            </div>
            <div class="border-t border-slate-900 mt-12 pt-8 text-center text-xs text-slate-600 font-mono">
                <p>© 2026 MultiHéroes.</p>
                <p> </p>
                <p>Original Game: © MultiHéroes</p>
                <p> </p>
                <p>
                    Characters: © MultiHéroes / Sacne Series / Fafa Estudios / TheHistoryOficial / Historech / Kai Gacha / Yumiko / Santigamer586 / 5quad /
                    The Dimensions / Frost Prime / Natzu / Aztlán Studios / Chidori Live! / Antony / Jonathan Pro / Dark Oga / KrisXD / Yael RX Attack Divine /
                    Mictlán Entretainment™ / Soy Alex / Sebastián Figther Z / Julio / LeickGames 525 / ATLUS / Rex zeiger_24 / Cyan Productions / Lunime /
                    SoulBound Adventures / Jerry-097 / Asashin Wolf / DARCK12 / ANK xNightmare / Four Leaf Studios / Key / Team Salvato / Ren’Py /
                    Yousei Creations / Kikiyama / Kadokawa Corporation / YandereDev / Nahida / ZUN / PunkRobot Studio / DanielNete / LadyFugaz /
                    Mega Junior Gacha / The Project X
                </p>
            </div>
        </div>
    </footer>

    <!-- MODAL (Hidden by default) -->
    <div id="character-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in" onclick="closeModal()">
        <div class="relative w-full max-w-2xl bg-slate-900 border-2 rounded-xl overflow-hidden shadow-[0_0_50px_rgba(0,0,0,0.5)]" id="modal-content" onclick="event.stopPropagation()">
            <!-- Header Decoration -->
            <div id="modal-bar" class="h-2 w-full bg-cyan-500"></div>
            
            <button onclick="closeModal()" class="absolute top-4 right-4 text-white hover:text-red-500 transition-colors z-20">
                <i data-lucide="x" class="w-8 h-8"></i>
            </button>

            <div class="flex flex-col md:flex-row h-full">
                <!-- Character Image Area (Hologram style) -->
                <div class="md:w-1/2 p-6 bg-slate-950 flex items-center justify-center relative overflow-hidden h-64 md:h-auto">
                     <div id="modal-glow" class="absolute inset-0 opacity-20 bg-cyan-500"></div>
                     <div class="absolute inset-0 z-0 bg-[linear-gradient(transparent_50%,rgba(0,255,255,0.1)_50%)] bg-[size:100%_4px] pointer-events-none opacity-50"></div>
                     
                     <!-- Placeholder Container -->
                     <div id="modal-placeholder-container" class="relative z-10 flex flex-col items-center text-cyan-300 opacity-90">
                        <i data-lucide="user" class="w-12 h-12 mb-2"></i>
                        <p class="text-cyan-500 font-mono text-sm uppercase tracking-wider mb-2">PRÓXIMAMENTE</p>
                        <p id="modal-img-label" class="text-cyan-100 font-display font-bold text-lg">Character</p>
                     </div>

                     <!-- Actual Image (Hidden by default) -->
                     <img id="modal-image-real" src="" alt="Personaje" class="absolute inset-0 w-full h-full object-cover z-20 hidden opacity-90 hover:opacity-100 transition-opacity">
                </div>

                <!-- Info Area -->
                <div class="md:w-1/2 p-8 flex flex-col justify-center space-y-6"> <div class="border-b border-slate-700 pb-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span id="modal-tag" class="text-xs font-black uppercase tracking-widest px-2 py-1 rounded bg-cyan-900 text-cyan-300 font-mono">
                            LUCHADOR
                        </span>
                    </div>
                        <h2 id="modal-name" class="text-1.5xl font-display font-black italic uppercase text-white">NOMBRE</h2>
                    </div>
                    
                    <div id="modal-obten-container">
                        <p class="text-xs text-slate-500 uppercase font-bold mb-1 font-mono">OBTENCIÓN</p>
                        <p id="modal-chapter" class="text-white font-medium">Capítulo 1</p>
                    </div>
                
                    <div>
                        <p id="modal-origin-label" class="text-xs text-slate-500 uppercase font-bold mb-1 font-mono">ORIGEN / FRANQUICIA</p>
                        
                        <div id="modal-logo-container" class="flex items-center justify-start overflow-hidden transition-all duration-300 rounded relative min-h-[80px]"> 
                            
                            <span id="modal-logo-text" class="text-xs text-slate-400 font-mono hidden">DESCONOCIDO</span>
                            
                            <img id="modal-logo-img" src="" class="max-h-[100px] w-auto object-contain hidden hover:scale-105 transition-transform" alt="Logo Franquicia">
                
                            <div id="modal-hyper-visual" class="hidden relative" style="width: 179px; height: 170px;">
                                <div class="absolute inset-0 bg-fuchsia-950/40 border border-fuchsia-500/50 rounded-lg overflow-hidden group flex flex-col items-center justify-end p-2">
                                    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/diagmonds-light.png')] opacity-30 mix-blend-overlay"></div>
                                    
                                    <img id="modal-hyper-gem" src="" class="absolute top-0 left-0 right-0 bottom-6 m-auto h-[120px] w-[120px] object-contain drop-shadow-[0_0_15px_rgba(236,72,153,0.8)] z-10 animate-pulse" alt="Gema">
                                    
                                    <p id="modal-gem-name" class="text-xs text-white font-serif italic tracking-widest z-10 relative text-center drop-shadow-md bg-black/60 px-3 py-1 rounded-full border border-fuchsia-500/30 mt-[-10px]">
                                        NÚCLEO ULTRA+
                                    </p>
                                </div>
                            </div>
                
                        </div>
                    </div>
                
                    <p id="modal-desc" class="text-slate-300 text-sm italic pt-2 border-t border-slate-800/50">
                        Descripción...
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- CONFIGURACIÓN CENTRAL DE LA WEB ---
        
        const SITE_CONFIG = {
            gameAvailable: false, // Cambiar a true para mostrar botones de jugar
            logoUrl: "img/logo.png",
            logoUrlMH: "img/logoMH.png",

            // --- SECCIÓN DE IMÁGENES ESTÁTICAS ---
            // Pega aquí las URL de tus imágenes. Si dejas "", se mostrará el diseño por defecto.
            images: {
                heroCover: "img/img01.png",      // Portada Principal (1920x1080 aprox)
                loreMain: "img/img02.png",       // Imagen Sección Historia (800x600)
                
                // Imágenes de los personajes en la sección Historia (Toggle)
                loreMartina: "img/img03.png",    
                loreFafa: "img/img04.png",

                // Capturas del Gameplay
                gameplayMap: "img/img05.png",    // Captura del Mapa
                gameplayVN: "img/img06.png",     // Captura de Novela Visual
                gameplayBattle: "img/img07.png", // Captura de Batalla
                
                // Arsenal (Imágenes decorativas)
                arsenalHyper: "img/img08.png",   // Comparativa Hyper
                arsenalSoul: "img/img09.png",    // Icono/Imagen Alma
                arsenalShiny: "img/img10.png",   // Enemigo Shiny
            }
        };

        // --- DATOS: LUCHADORES ---
        const CHARACTERS = [

            /*
            { id: , name: "#", chapter: "Capítulo -", description: "", type: "normal",image: "img/c.png", logo: "img/logo.png"},
            */

            { id: 1, name: "#001  Kirochy", chapter: "Capítulo 13", description: "", type: "normal", image: "img/c001.png", logo: "img/logoHD.png" },
            { id: 2, name: "#002  Martina", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c002.png", logo: "img/logoER.png" },
            { id: 3, name: "#003  Saya", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c003.png", logo: "img/logoHD2.png" },
            { id: 4, name: "#004  Paula", chapter: "Desconocida", description: "", type: "normal", image: "img/c004.png", logo: "img/logoADR.png" },
            { id: 5, name: "#005  Amai", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c005.png", logo: "img/logoATL.png" },
            { id: 6, name: "#006  Felipe", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c006.png", logo: "img/logoATL.png" },
            { id: 7, name: "#007  Sacne", chapter: "Desconocida", description: "", type: "normal", image: "img/c007.png", logo: "img/logoED.png" },
            { id: 8, name: "#008  Sebas", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c008.png", logo: "img/logoED.png" },
            { id: 9, name: "#009  Nahu", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c009.png", logo: "img/logoED.png" },
            { id: 10, name: "#010  Fafa", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c010.png", logo: "img/logoFE.png" },
            { id: 11, name: "#011  Mitsuki", chapter: "Capítulo 5", description: "", type: "normal", image: "img/c011.png", logo: "img/logoEB.png" },
            { id: 12, name: "#012  Hiro", chapter: "Capítulo 5", description: "", type: "normal", image: "img/c012.png", logo: "img/logoEB.png" },
            { id: 13, name: "#013  History", chapter: "Capítulo 13", description: "", type: "normal", image: "img/c013.png", logo: "img/logoWW.png" },
            { id: 14, name: "#014  Kai", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c014.png", logo: "img/logoWW.png" },
            { id: 15, name: "#015  Li", chapter: "Capítulo 3", description: "", type: "normal", image: "img/c015.png", logo: "img/logoWW.png" },
            { id: 16, name: "#016  Sur", chapter: "Capítulo 3", description: "", type: "normal", image: "img/c016.png", logo: "img/logoWW.png" },
            { id: 17, name: "#017  Santigamer586", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c017.png", logo: "img/logo586.png" },
            { id: 18, name: "#018  Fernando", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c018.png", logo: "img/logo5Q.png" },
            { id: 19, name: "#019  Axel", chapter: "Capítulo 13", description: "", type: "normal", image: "img/c019.png", logo: "img/logoTD.png" },
            { id: 20, name: "#020  Diosa de los Deseos", chapter: "Capítulo 13", description: "", type: "normal", image: "img/c020.png", logo: "img/logoTD.png" },
            { id: 21, name: "#021  Yumiko", chapter: "Desconocida", description: "", type: "normal", image: "img/c021.png", logo: "img/logoYUMI.png" },
            { id: 22, name: "#022  Frost", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c022.png", logo: "img/logoFP.png" },
            { id: 23, name: "#023  Terry", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c023.png", logo: "img/logoFP.png" },
            { id: 24, name: "#024  Natzu", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c024.png", logo: "img/logoNAT.png" },
            { id: 25, name: "#025  Mouse", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c025.png", logo: "img/logoNX.png" },
            { id: 26, name: "#026  Bridget", chapter: "Capítulo 3", description: "", type: "normal", image: "img/c026.png", logo: "img/logoNX.png" },
            { id: 27, name: "#027  Ceniza", chapter: "Capítulo 7", description: "", type: "normal", image: "img/c027.png", logo: "img/logoNX.png" },
            { id: 28, name: "#028  Lovelyn", chapter: "Capítulo 3", description: "", type: "normal", image: "img/c028.png", logo: "img/logoNX.png" },
            { id: 29, name: "#029  Amelia", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c029.png", logo: "img/logoFE.png" },
            { id: 30, name: "#030  Camila", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c030.png", logo: "img/logoHD.png" },
            { id: 31, name: "#031  Sombra", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c031.png", logo: "img/logoATL.png" },
            { id: 32, name: "#032  AntiSaulandro", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c032.png", logo: "img/logoED.png" },
            { id: 33, name: "#033  Identidad Oscura", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c033.png", logo: "img/logoWW.png" },
            { id: "34a", name: "#034-a  Huemeel", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c034a.png", logo: "img/logoPES.png" },
            { id: "34b", name: "#034-b  Cofire", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c034b.png", logo: "img/logoPES.png" },
            { id: "34c", name: "#034-c  Shirar", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c034c.png", logo: "img/logoPES.png" },
            { id: 35, name: "#035  Hikari", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c035.png", logo: "img/logoEP.png" },
            { id: 36, name: "#036  Kira", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c036.png", logo: "img/logoWW.png" },
            { id: 37, name: "#037  Hiroki", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c037.png", logo: "img/logoCL.png" },
            { id: 38, name: "#038  Naomy", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c038.png", logo: "img/logoCL.png" },
            { id: 39, name: "#039  Akira", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c039.png", logo: "img/logoCL.png" },
            { id: 40, name: "#040  Zitaru", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c040.png", logo: "img/logoCL.png" },
            { id: 41, name: "#041  ???", chapter: "Capítulo ???", description: "", type: "normal", image: "", logo: "img/logoCL.png" },
            { id: 42, name: "#042  Antoni", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c042.png", logo: "img/logoGB.png" },
            { id: 43, name: "#043  Violeta", chapter: "Capítulo 9", description: "", type: "normal", image: "img/c043.png", logo: "img/logoGB.png" },
            { id: 44, name: "#044  Jonathan", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c044.png", logo: "img/logoJP.png" },
            { id: 45, name: "#045  Vicente X", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c045.png", logo: "img/logoJP.png" },
            { id: 46, name: "#046  Oga", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c046.png", logo: "img/logoDO.png" },
            { id: 47, name: "#047  Kris", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c047.png", logo: "img/logoKRIS.png" },
            { id: "47a", name: "#047-a  Mel", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c047a.png", logo: "img/logoKRIS.png" },
            { id: 48, name: "#048  Yael", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c048.png", logo: "img/logoYRX.png" },
            { id: 49, name: "#049  Kaeru", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c049.png", logo: "img/logoME.png" },
            { id: 50, name: "#050  Alex", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c050.png", logo: "img/logoPISNEY.png" },
            { id: 51, name: "#051  Killer-Chan", chapter: "Capítulo ⭐1", description: "", type: "normal", image: "img/c051.png", logo: "img/logo.png" },
            { id: 52, name: "#052  Troll-Chan", chapter: "Capítulo ⭐1", description: "", type: "normal", image: "img/c052.png", logo: "img/logo.png" },
            { id: 53, name: "#053  Smile-Chan", chapter: "Capítulo ⭐1", description: "", type: "normal", image: "img/c053.png", logo: "img/logo.png" },
            { id: 54, name: "#054  Ninja de Fuego", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c054.png", logo: "img/logoLGL.png" },
            { id: 55, name: "#055  Maruchagua", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c055.png", logo: "img/logoLGL.png" },
            { id: 56, name: "#056  Gadiel de Roca", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c056.png", logo: "img/logoLGL.png" },
            { id: 57, name: "#057  Glorita", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c057.png", logo: "img/logoLGL.png" },
            { id: 58, name: "#058  Lucy", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c058.png", logo: "img/logoLGL.png" },
            { id: 59, name: "#059  Sebastián", chapter: "Capítulo 13", description: "", type: "normal", image: "img/c059.png", logo: "img/logoSFZ.png" },
            { id: 60, name: "#060  David", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c060.png", logo: "img/logoSFZ.png" },
            { id: 61, name: "#061  Anderson", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c061.png", logo: "img/logoSFZ.png" },
            { id: 62, name: "#062  Overkill", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c062.png", logo: "img/logoSFZ.png" },
            { id: 63, name: "#063  After", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c063.png", logo: "img/logoSFZ.png" },
            { id: 64, name: "#064  Lesly", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c064.png", logo: "img/logoSFZ.png" },
            { id: 65, name: "#065  Historech", chapter: "Capítulo 4", description: "", type: "normal", image: "img/c065.png", logo: "img/logoTHA.png" },
            { id: "65a", name: "#065-a  Darkrech", chapter: "Capítulo 4", description: "", type: "normal", image: "img/c065a.png", logo: "img/logoTHA.png" },
            { id: 66, name: "#066  Evilrech", chapter: "Capítulo 4", description: "", type: "normal", image: "img/c066.png", logo: "img/logoTHA.png" },
            { id: 67, name: "#067  Lirech", chapter: "Capítulo 4", description: "", type: "normal", image: "img/c067.png", logo: "img/logoTHA.png" },
            { id: 68, name: "#068  Laura", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c068.png", logo: "img/logo5Q.png" },
            { id: 69, name: "#069  Simone", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c069.png", logo: "img/logoER.png" },
            { id: 70, name: "#070  Jimmy", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c070.png", logo: "img/logoJULIO.png" },
            { id: 71, name: "#071  Fred", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c071.png", logo: "img/logoJULIO.png" },
            { id: 72, name: "#072  Leick [Pasado]", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c072.png", logo: "img/logo525.png" },
            { id: 73, name: "#073  Two Faced Girl", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c073.png", logo: "img/logo5TH.png" },
            { id: 74, name: "#074  Samia", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c074.png", logo: "img/logoGA.png" },
            { id: 75, name: "#075  Alexis", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c075.png", logo: "img/logoGA.png" },
            { id: 76, name: "#076  X-Frost", chapter: "Capítulo 9", description: "", type: "normal", image: "img/c076.png", logo: "img/logoP3.png" },
            { id: 77, name: "#077  Rex", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c077.png", logo: "img/logoREX.png" },
            { id: 78, name: "#078  Ran", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c078.png", logo: "img/logoST.png" },
            { id: 79, name: "#079  Anto-Bot", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c079.png", logo: "img/logoST.png" },
            { id: 80, name: "#080  Michael & Michelle", chapter: "Desconocida", description: "", type: "normal", image: "img/c080.png", logo: "img/logoADR.png" },
            { id: 81, name: "#081  Shadow", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c081.png", logo: "img/logoMJG.png" },
            { id: 82, name: "#082  Kenshi", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c082.png", logo: "img/logoGD.png" },
            { id: 83, name: "#083  Burnice White", chapter: "Capítulo 8", description: "", type: "normal", image: "img/c083.png", logo: "img/logoZZZ.png" },
            { id: 84, name: "#084  Hori", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c084.png", logo: "img/logoFP.png" },
            { id: 85, name: "#085  Jesse", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c085.png", logo: "img/logoFP.png" },
            { id: 86, name: "#086  Jet Ace", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c086.png", logo: "img/logoJA.png" },
            { id: 87, name: "#087  Cyanthia", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c087.png", logo: "img/logoCYAN.png" },
            { id: 88, name: "#088  Kuku", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c088.png", logo: "img/logoGM.png" },
            { id: 89, name: "#089  Claire", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c089.png", logo: "img/logoGW.png" },
            { id: 90, name: "#090  Gina", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c090.png", logo: "img/logoGL.png" },
            { id: 91, name: "#091  Bella & Usalina", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c091.png", logo: "img/logoGC.png" },
            { id: 92, name: "#092  Alan", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c092.png", logo: "img/logoWE0.png" },
            { id: "92a", name: "#092  Null", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c092a.png", logo: "img/logoWE0.png" },
            { id: 93, name: "#093  Joriel", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c093.png", logo: "img/logoSA.png" },
            { id: 94, name: "#094  Orion", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c094.png", logo: "img/logoSA.png" },
            { id: 95, name: "#095  Roy", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c095.png", logo: "img/logoSA.png" },
            { id: 96, name: "#096  Player 18", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c096.png", logo: "img/logoP19.png" },
            { id: 97, name: "#097  097 Sans", chapter: "Capítulo 6", description: "", type: "normal", image: "img/c097.png", logo: "img/logo097.png" },
            { id: 98, name: "#098  Wolf", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c098.png", logo: "img/logoAW.png" },
            { id: 99, name: "#099  Default-Chan", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c099.png", logo: "img/logoGC.png" },
            { id: 100, name: "#100  Miyazan", chapter: "Desconocida", description: "", type: "normal", image: "img/c100.png", logo: "img/logo.png" },
            { id: 101, name: "#101  Soul", chapter: "Desconocida", description: "", type: "normal", image: "img/c101.png", logo: "img/logo.png" },
            { id: 102, name: "#102  Dilan", chapter: "Capítulo 9", description: "", type: "normal", image: "img/c102.png", logo: "img/logoD12.png" },
            { id: 103, name: "#103  Sienna", chapter: "Capítulo 9", description: "", type: "normal", image: "img/c103.png", logo: "img/logoD12.png" },
            { id: 104, name: "#104  Upgrade N", chapter: "Capítulo 9", description: "", type: "normal", image: "img/c104.png", logo: "img/logoD12.png" },
            { id: 105, name: "#105  Upgrade V", chapter: "Capítulo 9", description: "", type: "normal", image: "img/c105.png", logo: "img/logoD12.png" },
            { id: 106, name: "#106  Upgrade J", chapter: "Capítulo 9", description: "", type: "normal", image: "img/c106.png", logo: "img/logoD12.png" },
            { id: 107, name: "#107  ANK", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c107.png", logo: "img/logoANK.png" },
            { id: 108, name: "#108  Sofía", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c108.png", logo: "img/logoANK.png" },
            { id: 109, name: "#109  Emi Ibarazaki", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c109.png", logo: "img/logoKS.png" },
            { id: 110, name: "#110  Riki Naoe & Rin Natsume", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c110.png", logo: "img/logoLB.png" },
            { id: 111, name: "#111  Shining Monika", chapter: "Desconocida", description: "", type: "normal", image: "img/c111.png", logo: "img/logoDDGR.png" },
            { id: 112, name: "#112  Eileen", chapter: "Desconocida", description: "", type: "normal", image: "img/c112.png", logo: "img/logoRPY.png" },
            { id: 113, name: "#113  Sozo", chapter: "Capítulo 8", description: "", type: "normal", image: "img/c113.png", logo: "img/logoSZ.png" },
            { id: 114, name: "#114  Sylvia Nightsong", chapter: "Capítulo 8", description: "", type: "normal", image: "img/c114.png", logo: "img/logoBO.png" },
            { id: 115, name: "#115  Ray", chapter: "Capítulo 8", description: "", type: "normal", image: "img/c115.png", logo: "img/logoSZ.png" },
            { id: 116, name: "#116  Opa-Opa", chapter: "Capítulo 8", description: "", type: "normal", image: "img/c116.png", logo: "img/logoSZ.png" },
            { id: 117, name: "#117  Madotsuki", chapter: "Capítulo 10", description: "", type: "normal", image: "img/c117.png", logo: "img/logoYN.png" },
            { id: 118, name: "#118  Ayano", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c118.png", logo: "img/logoYS.png" },
            { id: 119, name: "#119  Youmu Konpaku", chapter: "Capítulo ⭐2", description: "", type: "normal", image: "img/c119.png", logo: "img/logoTH7.png" },
            { id: 120, name: "#120  Ponk", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c120.png", logo: "img/logoFLIPOS.png" },
            { id: 121, name: "#121  DanielNete", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c121.png", logo: "img/logoDN.png" },
            { id: 122, name: "#122  Elegido & Enamoradora", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c122.png", logo: "img/logoDN.png" },
            { id: "123m", name: "#123-m  Cipher", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c123m.png", logo: "img/logo5TH.png" },
            { id: "123f", name: "#123-f  Cipher", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c123f.png", logo: "img/logo5TH.png" },
            { id: 124, name: "#124  Lily", chapter: "Desconocida", description: "", type: "normal", image: "img/c124.png", logo: "img/logoDO.png" },
            { id: 125, name: "#125  Vía Walker", chapter: "Capítulo 11", description: "", type: "normal", image: "img/c125.png", logo: "img/logoLF.png" },
            { id: 126, name: "#126  Shiro", chapter: "Capítulo 9", description: "", type: "normal", image: "img/c126.png", logo: "img/logoOD.png" },
            { id: 127, name: "#127  Max", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c127.png", logo: "img/logoTPX.png" },
            { id: 128, name: "#128  Emma", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c128.png", logo: "img/logoATL2.png" },
            { id: 129, name: "#129  Mi-Kat", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c129.png", logo: "img/logoATL2.png" },
            { id: 130, name: "#130  Cicada", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c130.png", logo: "img/logo3301.png" },
            { id: 131, name: "#131  SiraX", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c131.png", logo: "img/logo3301.png" },
            { id: 132, name: "#132  Luisandre & Mica", chapter: "Desconocida", description: "", type: "normal", image: "img/c132.png", logo: "img/logoEMH.png" },
            { id: 133, name: "#133  Damián", chapter: "Desconocida", description: "", type: "normal", image: "img/c133.png", logo: "img/logoEMH.png" },
            { id: 134, name: "#134  Estefanía", chapter: "Desconocida", description: "", type: "normal", image: "img/c134.png", logo: "img/logoEMH.png" },
            { id: 135, name: "#135  Nataly", chapter: "Desconocida", description: "", type: "normal", image: "img/c135.png", logo: "img/logoEMH.png" },
            { id: 136, name: "#136  Jazmín", chapter: "Desconocida", description: "", type: "normal", image: "img/c136.png", logo: "img/logoEMH.png" },
            { id: 137, name: "#137  ???", chapter: "Desconocida", description: "", type: "normal", image: "", logo: "" },
            { id: 138, name: "#138  Chokorisu Hazekura", chapter: "Capítulo 12", description: "", type: "normal", image: "img/c138.png", logo: "img/logoROFM.png" },
            { id: 139, name: "#139  Anastasia Yokoyama", chapter: "Capítulo 12", description: "", type: "normal", image: "img/c139.png", logo: "img/logoROFM.png" },
            { id: 140, name: "#140  Odetta MacQuoid", chapter: "Capítulo 12", description: "", type: "normal", image: "img/c140.png", logo: "img/logoROFM.png" },
            { id: 141, name: "#141  Cameron", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c141.png", logo: "img/logoFE.png" },
            { id: 142, name: "#142  ???", chapter: "Capítulo ???", description: "", type: "normal", image: "", logo: "" },
            { id: 143, name: "#143  ???", chapter: "Capítulo ???", description: "", type: "normal", image: "", logo: "" },
            { id: 144, name: "#144  ???", chapter: "Capítulo ???", description: "", type: "normal", image: "", logo: "" },
            { id: 145, name: "#145  Luna", chapter: "Capítulo 2", description: "", type: "normal", image: "img/c145.png", logo: "img/logoDO.png" },
            { id: 146, name: "#146  Claudia", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c146.png", logo: "img/logoYRX.png" },
            { id: 147, name: "#147  Melody", chapter: "Capítulo ???", description: "", type: "normal", image: "img/c147.png", logo: "img/logoYRX.png" },
            { id: 148, name: "#148  Hornet", chapter: "Capítulo 1", description: "", type: "normal", image: "img/c148.png", logo: "img/logoHKS.png" },
            { id: 149, name: "#149  Lace", chapter: "Capítulo 7", description: "", type: "normal", image: "img/c149.png", logo: "img/logoHKS.png" }

        ];

        // --- DATOS: HYPER FORMAS ---
        const HYPER_FORMS = [

            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h001.png", logo: "img/gem001.png" },
            { id: "h2", name: "Hyper Martina", chapter: "Martinalitia", description: "", type: "hyper", image: "img/h002.png", logo: "img/gem002.png" },
            { id: "h3", name: "Hyper Saya", chapter: "Sayalitia", description: "", type: "hyper", image: "img/h003.png", logo: "img/gem003.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h004.png", logo: "img/gem004.png" },
            { id: "h7", name: "Hyper Sacne", chapter: "Sacnelitia", description: "", type: "hyper", image: "img/h007.png", logo: "img/gem007.png" },
            { id: "h10", name: "Hyper Fafa", chapter: "Fafalitia", description: "", type: "hyper", image: "img/h010.png", logo: "img/gem010.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h007.png", logo: "img/gem007.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h008.png", logo: "img/gem008.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h009.png", logo: "img/gem009.png" },
            { id: "h24a", name: "Hyper Natzu <span class='font-serif italic normal-case text-2xl text-yellow-300 drop-shadow-[0_0_10px_rgba(253,224,71,1)]'>α</span>", chapter: "Natzulitia α", description: "", type: "hyper", image: "img/h024a.png", logo: "img/gem024a.png" },
            { id: "h24b", name: "Hyper Natzu <span class='font-serif italic normal-case text-lg text-cyan-300 drop-shadow-[0_0_10px_rgba(103,232,249,1)]'>β</span>", chapter: "Natzulitia β", description: "", type: "hyper", image: "img/h024b.png", logo: "img/gem024b.png" },
            { id: "h25", name: "Hyper Mouse", chapter: "Mouselitia", description: "", type: "hyper", image: "img/h025.png", logo: "img/gem025.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h012.png", logo: "img/gem012.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h013.png", logo: "img/gem013.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h014.png", logo: "img/gem014.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h015.png", logo: "img/gem015.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h016.png", logo: "img/gem016.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h017.png", logo: "img/gem017.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h018.png", logo: "img/gem018.png" },
            { id: "h50", name: "Hyper Alex", chapter: "Alexlitia", description: "", type: "hyper", image: "img/h050.png", logo: "img/gem050.png" },
            { id: "h59", name: "Hyper Sebastián", chapter: "Sebastialitia", description: "", type: "hyper", image: "img/h059.png", logo: "img/gem059.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h021.png", logo: "img/gem021.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h022.png", logo: "img/gem022.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h023.png", logo: "img/gem023.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h024.png", logo: "img/gem024.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h025.png", logo: "img/gem025.png" },
            { id: "h93", name: "Hyper Joriel", chapter: "Jorielitia", description: "", type: "hyper", image: "img/h093.png", logo: "img/gem093.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h027.png", logo: "img/gem027.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h028.png", logo: "img/gem028.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h029.png", logo: "img/gem029.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h030.png", logo: "img/gem030.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h031.png", logo: "img/gem031.png" },
            { id: "h125", name: "Hyper Vía", chapter: "Víalitia", description: "", type: "hyper", image: "img/h125.png", logo: "img/gem125.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h033.png", logo: "img/gem033.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h034.png", logo: "img/gem034.png" },
            //{ id: "h", name: "Hyper ", chapter: "", description: "", type: "hyper", image: "img/h035.png", logo: "img/gem035.png" }

        ];

        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons(); 
            initNavbar();
            initHeroButtons();
            initSiteImages(); // Cargar imágenes estáticas
            renderGrid('roster-grid', CHARACTERS, 'border-transparent hover:border-cyan-400', 'text-cyan-400');
            renderGrid('hyper-grid', HYPER_FORMS, 'border-fuchsia-900 hover:border-fuchsia-500', 'text-fuchsia-400');
            setLogo();
        });

        // --- FUNCIONES DE IMAGEN ---
        function initSiteImages() {
            const imgs = SITE_CONFIG.images;
            
            // Función auxiliar para reemplazar placeholder por imagen real
            const setImg = (imgId, phId, url) => {
                const imgEl = document.getElementById(imgId);
                const phEl = document.getElementById(phId);
                if (url && url !== "" && imgEl) {
                    imgEl.src = url;
                    imgEl.classList.remove('hidden');
                    if(phEl) phEl.classList.add('hidden'); // Ocultar placeholder
                }
            };

            setImg('img-hero', 'ph-hero', imgs.heroCover);
            setImg('img-lore-main', 'ph-lore-main', imgs.loreMain);
            
            // Lore Character inicial (Se actualiza con switchLoreHero)
            switchLoreHero('martina');

            setImg('img-gp-map', 'ph-gp-map', imgs.gameplayMap);
            setImg('img-gp-vn', 'ph-gp-vn', imgs.gameplayVN);
            setImg('img-gp-battle', 'ph-gp-battle', imgs.gameplayBattle);

            setImg('img-ars-hyper', 'ph-ars-hyper', imgs.arsenalHyper);
            setImg('img-ars-soul', 'ph-ars-soul', imgs.arsenalSoul);
            setImg('img-ars-shiny', 'ph-ars-shiny', imgs.arsenalShiny);
        }

        function setLogo() {
            const logoImg = document.getElementById('nav-logo');
            const logoText = document.getElementById('nav-text-fallback');
            const footerLogo = document.getElementById('footer-logo');
            const footerText = document.getElementById('footer-text');

            if (SITE_CONFIG.logoUrl) {
                logoImg.src = SITE_CONFIG.logoUrl;
                logoImg.classList.remove('hidden');
                footerLogo.src = SITE_CONFIG.logoUrlMH;
                footerLogo.classList.remove('hidden');
            } else {
                logoText.classList.remove('hidden');
                footerText.classList.remove('hidden');
            }
        }

        function initNavbar() {
            const navbar = document.getElementById('navbar');
            const mobileBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');

            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    navbar.classList.add('bg-slate-900/90', 'backdrop-blur-md', 'border-slate-800', 'py-3');
                    navbar.classList.remove('py-6', 'border-transparent');
                } else {
                    navbar.classList.remove('bg-slate-900/90', 'backdrop-blur-md', 'border-slate-800', 'py-3');
                    navbar.classList.add('py-6', 'border-transparent');
                }
            });

            mobileBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            if (SITE_CONFIG.gameAvailable) {
                document.getElementById('nav-play-btn').classList.remove('hidden');
            }
        }

        function initHeroButtons() {
            const container = document.getElementById('hero-buttons');
            if (SITE_CONFIG.gameAvailable) {
                container.innerHTML = `
                    <button class="relative px-8 py-3 bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-bold tracking-widest uppercase transition-all duration-300 clip-path-slant group overflow-hidden font-display">
                        <span class="relative z-10 flex items-center gap-2">Comenzar Aventura <i data-lucide="chevron-right"></i></span>
                    </button>
                    <button class="px-8 py-3 border border-slate-700 hover:border-orange-500 hover:text-orange-400 text-slate-300 font-bold uppercase tracking-widest transition-all flex items-center justify-center gap-2 group font-display">
                        <i data-lucide="play" class="w-4 h-4 group-hover:text-orange-400"></i> Ver Trailer
                    </button>
                `;
            } else {
                container.innerHTML = `
                    <div class="inline-block px-6 py-3 bg-slate-800/50 border border-slate-700 text-slate-400 font-mono text-sm">
                        /// SISTEMA EN MANTENIMIENTO: LANZAMIENTO PENDIENTE
                    </div>
                `;
            }
            lucide.createIcons();
        }

        function renderGrid(containerId, data, borderClass, textClass) {
            const container = document.getElementById(containerId);
            container.innerHTML = ''; 

            data.forEach(item => {
                const card = document.createElement('div');
                card.className = `group relative aspect-[3/4] overflow-hidden rounded-lg bg-slate-800 cursor-pointer border transition-all hover:shadow-[0_0_20px_rgba(0,0,0,0.3)] ${borderClass}`;
                card.onclick = () => openModal(item);

                let imageHtml = '';
                if (item.image && item.image !== "") {
                    imageHtml = `<img src="${item.image}" alt="${item.name}" class="absolute inset-0 w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity">`;
                } else {
                    imageHtml = `
                    <div class="absolute inset-0 opacity-70 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900">
                        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
                        <i data-lucide="user" class="w-12 h-12 text-gray-600 mb-2"></i>
                        <p class="text-gray-400 font-mono text-sm uppercase tracking-wider mb-2">Próximamente</p>
                    </div>`;
                }

                const htmlContent = `
                    ${imageHtml}
                    <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black to-transparent p-4 translate-y-2 group-hover:translate-y-0 transition-transform">
                        <p class="font-bold text-white text-sm uppercase font-display drop-shadow-md">${item.name}</p>
                        <p class="text-[10px] ${textClass} opacity-0 group-hover:opacity-100 uppercase font-mono">Ver Datos</p>
                    </div>
                `;
                
                card.innerHTML = htmlContent;
                container.appendChild(card);
            });
            lucide.createIcons();
        }

        function openModal(item) {
            const modal = document.getElementById('character-modal');
            const content = document.getElementById('modal-content');
            const bar = document.getElementById('modal-bar');
            const tag = document.getElementById('modal-tag');
            const glow = document.getElementById('modal-glow');
            const name = document.getElementById('modal-name');
            const desc = document.getElementById('modal-desc');
            const label = document.getElementById('modal-img-label');
            const realImg = document.getElementById('modal-image-real');
            const placeholderContainer = document.getElementById('modal-placeholder-container');

            // Nuevos elementos referenciados
            const obtenContainer = document.getElementById('modal-obten-container'); // Contenedor Obtención
            const chapterText = document.getElementById('modal-chapter'); // Texto del capítulo
            
            const originLabel = document.getElementById('modal-origin-label');
            const logoContainer = document.getElementById('modal-logo-container');
            const logoText = document.getElementById('modal-logo-text');
            const logoImg = document.getElementById('modal-logo-img');
            
            const hyperVisual = document.getElementById('modal-hyper-visual');
            const hyperGem = document.getElementById('modal-hyper-gem');
            const gemName = document.getElementById('modal-gem-name'); // Nuevo: Nombre de la gema

            const isHyper = item.type === 'hyper';

            // --- 1. ESTILOS BASE DEL MODAL (Colores) ---
            const colorClass = isHyper ? 'border-fuchsia-500' : 'border-cyan-500';
            const bgTag = isHyper ? 'bg-fuchsia-900' : 'bg-cyan-900';
            const textTag = isHyper ? 'text-fuchsia-300' : 'text-cyan-300';
            const barColor = isHyper ? 'bg-fuchsia-500' : 'bg-cyan-500';
            const glowColor = isHyper ? 'bg-fuchsia-500' : 'bg-cyan-500';

            content.className = `relative w-full max-w-2xl bg-slate-900 border-2 rounded-xl overflow-hidden shadow-[0_0_50px_rgba(0,0,0,0.5)] ${colorClass}`;
            bar.className = `h-2 w-full ${barColor}`;
            tag.className = `text-xs font-black uppercase tracking-widest px-2 py-1 rounded font-mono ${bgTag} ${textTag}`;
            glow.className = `absolute inset-0 opacity-20 ${glowColor}`;

            // --- 2. DATOS GENERALES ---
            name.innerHTML = item.name; 
            desc.textContent = item.description || "";
            label.innerHTML = item.name; 
            tag.textContent = isHyper ? 'FORMA HYPER' : 'LUCHADOR';

            // Imagen Principal (Holograma)
            if (item.image && item.image !== "") {
                realImg.src = item.image;
                realImg.classList.remove('hidden');
                placeholderContainer.classList.add('hidden');
            } else {
                realImg.classList.add('hidden');
                placeholderContainer.classList.remove('hidden');
            }

            // --- 3. LÓGICA DIFERENCIADA (Normal vs Hyper) ---

            // Reseteamos visibilidad de elementos de origen/gema
            logoText.classList.add('hidden');
            logoImg.classList.add('hidden');
            hyperVisual.classList.add('hidden');

            if (isHyper) {
                // >>> CASO HYPER <<<
                
                // 1. Ocultar sección Obtención
                obtenContainer.classList.add('hidden');

                // 2. Configurar sección Gema
                originLabel.textContent = "HYPER-GEMA";
                originLabel.classList.replace('text-slate-500', 'text-fuchsia-400');
                
                hyperVisual.classList.remove('hidden'); // Mostrar el contenedor 179x170
                
                // Usar 'item.logo' para la imagen de la gema
                hyperGem.src = (item.logo && item.logo !== "") ? item.logo : "img/gemDefault.png";
                
                // Usar 'item.chapter' para el NOMBRE DE LA GEMA
                gemName.innerHTML = item.chapter || "GEMA DESCONOCIDA";

            } else {
                // >>> CASO NORMAL <<<

                // 1. Mostrar y configurar sección Obtención
                obtenContainer.classList.remove('hidden');
                chapterText.textContent = item.chapter || "Desconocido";

                // 2. Configurar sección Logo Normal
                originLabel.textContent = "ORIGEN / FRANQUICIA";
                originLabel.classList.replace('text-fuchsia-400', 'text-slate-500');

                if (item.logo && item.logo !== "") {
                    logoImg.src = item.logo;
                    logoImg.classList.remove('hidden');
                } else {
                    logoText.classList.remove('hidden');
                }
            }

            modal.classList.remove('hidden');
            lucide.createIcons();
        }

        function closeModal() {
            document.getElementById('character-modal').classList.add('hidden');
        }

        function switchLoreHero(hero) {
            const btnM = document.getElementById('btn-martina');
            const btnF = document.getElementById('btn-fafa');
            const label = document.getElementById('lore-hero-label');
            
            // Imagen LORE
            const imgLore = document.getElementById('img-lore-char');
            const phLore = document.getElementById('ph-lore-char');
            const imgs = SITE_CONFIG.images;

            if (hero === 'martina') {
                btnM.classList.replace('border-slate-800', 'border-orange-500');
                btnM.classList.add('bg-orange-500/10');
                btnF.classList.replace('border-green-500', 'border-slate-800');
                btnF.classList.remove('bg-green-500/10');
                label.textContent = "Arte: Martina";
                
                if (imgs.loreMartina) {
                    imgLore.src = imgs.loreMartina;
                    imgLore.classList.remove('hidden');
                    phLore.classList.add('hidden');
                } else {
                    imgLore.classList.add('hidden');
                    phLore.classList.remove('hidden');
                }

            } else {
                btnF.classList.replace('border-slate-800', 'border-green-500');
                btnF.classList.add('bg-green-500/10');
                btnM.classList.replace('border-orange-500', 'border-slate-800');
                btnM.classList.remove('bg-orange-500/10');
                label.textContent = "Arte: Fafa";

                if (imgs.loreFafa) {
                    imgLore.src = imgs.loreFafa;
                    imgLore.classList.remove('hidden');
                    phLore.classList.add('hidden');
                } else {
                    imgLore.classList.add('hidden');
                    phLore.classList.remove('hidden');
                }
            }
        }

        function switchTab(tab) {
            ['map', 'vn', 'battle'].forEach(t => {
                const btn = document.getElementById(`tab-btn-${t}`);
                const content = document.getElementById(`tab-content-${t}`);
                const icon = btn.querySelector('svg') || btn.querySelector('i');
                
                btn.className = 'w-full text-left p-4 rounded-lg flex items-center gap-4 transition-all hover:bg-slate-900 text-slate-500 group';
                content.classList.add('hidden');
                if (icon) icon.classList.remove('text-orange-400', 'text-fuchsia-400', 'text-yellow-400');
            });

            const activeBtn = document.getElementById(`tab-btn-${tab}`);
            const activeContent = document.getElementById(`tab-content-${tab}`);
            const activeIcon = activeBtn.querySelector('svg') || activeBtn.querySelector('i');

            activeContent.classList.remove('hidden');
            
            if (tab === 'map') {
                activeBtn.classList.add('bg-slate-800', 'border-l-4', 'border-orange-400');
                if(activeIcon) activeIcon.classList.add('text-orange-400');
            } else if (tab === 'vn') {
                activeBtn.classList.add('bg-slate-800', 'border-l-4', 'border-fuchsia-400');
                if(activeIcon) activeIcon.classList.add('text-fuchsia-400');
            } else if (tab === 'battle') {
                activeBtn.classList.add('bg-slate-800', 'border-l-4', 'border-yellow-400');
                if(activeIcon) activeIcon.classList.add('text-yellow-400');
            }
            activeBtn.classList.remove('text-slate-500');
        }

    </script>
</body>
</html>
